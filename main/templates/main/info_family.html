{% extends 'main/base.html' %}

{% block content %}
<div class="row">
  <div class="col-md-12">
    <div class="card text-center shadow">
      <div class="text-center">
        <h5 class="card-header text-primary text-uppercase font-weight-bold">My Family</h5>
      </div>
      <div class="card-body text-center">
        <h3 class="font-weight-bold">{{ family.name }}</h3>
        <input type="text" readonly class="form-control form-control-lg text-center mx-auto" style="width: 120px;" id="codeInput" value="{{ family.code }}">
        <br>
        <div class="btn-group-vertical">
          <button type="button" onclick="copyCode()" class="btn btn-success"><i class="fas far fa-copy"></i> Copy Code</button>
          <a href="{% url 'leave_family' %}" class="btn btn-danger"><i class="fas fa-unlink"></i> Leave Family</a>
          <a href="{% url 'home' %}" class="btn btn-primary"><i class="fas fa-home"></i> Go to Home</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function copyCode() {
    var copyText = document.getElementById('codeInput');

    /* Select the text field */
    copyText.select();
    copyText.setSelectionRange(0, 99999); /* For mobile devices */

    /* Copy the text inside the text field */
    document.execCommand('copy');

    /* Alert the copied text */
    alert('Copied family code: ' + copyText.value);
  }
</script>
{% endblock %}
